//CopyRight Tag Solutions Pvt.Ltd 2013
doctype 5
html
    head(lang="en")
        title LSR
        link(rel='stylesheet', href='/stylesheets/index1.css')
        link(rel='stylesheet', href='/stylesheets/jslider.css')
        link(rel='stylesheet', href='/stylesheets/jslider.round.css')
        link(rel='stylesheet', href='/stylesheets/jquery.bxslider.css')
        link(rel="stylesheet", href='/stylesheets/colorbox.css')
        link(rel="stylesheet", href='/stylesheets/jquery.nouislider.min.css')
        script(type='text/javascript', src='/javascripts/jquery-1.7.1.js')
        script(type='text/javascript', src='/javascripts/jshashtable-2.1_src.js')
        script(type='text/javascript', src='/javascripts/jquery.numberformatter-1.2.3.js')
        script(type='text/javascript', src='/javascripts/tmpl.js')
        script(type='text/javascript', src='/javascripts/jquery.dependClass-0.1.js')
        script(type='text/javascript', src='/javascripts/draggable-0.1.js')
        script(type='text/javascript', src='/javascripts/jquery.slider.js')
        script(type='text/javascript', src='https://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/src/markerclusterer.js')
        script(type='text/javascript',src='/javascripts/main.js')
        script(type='text/javascript', src='/javascripts/jquery.bxslider.min.js')
        script(type='text/javascript', src='/javascripts/jquery.nouislider.min.js')
        script(type='text/javascript', src='/javascripts/jquery.colorbox-min.js')
        script(type='text/javascript', src='/javascripts/SearchPageScript.js')
    body
        div#bigWarpper
            div#header
                ul
                    li
                        p#logo
                            a(href="/") LSR
                    li
                        div#map
                            a(href="/search")
                                img(src="/images/map_icon.png",style="margin-right:7px")
                                | Map
                        div#list(onclick="showListView(); return false;")
                            a
                                img(src="/images/listicon_bluepng.png",style="margin-right:10px")
                                | List
                    li
                        nav#mainNav
                            ul
                                li: a(href="/", style="text-decoration: none")
                                    abbr#navText HOME
                                li: a(href="/properties", style="text-decoration: none")
                                    abbr#navText PROPERTY
                                li: a(href="/properties/add", style="text-decoration: none")
                                    abbr#navText ADD
                                li: a(class="group1", href="#box1", style="text-decoration: none")
                                    | LOGIN
            div#mainBody
                ul
                    li.propertiesListContainer
                        form#searchForm(action='/search',method='POST')
                            div#choosePropertyType
                                ul
                                    input(type='button', class='selector', id='all', value='All')
                                    input(type='button', class='selector', id='rent', value='Rent')
                                    input(type='button', class='selector', id='sale', value='Sale')
                                    input(type='button', class='selector', id='selectorLast', value='Timeshare')
                                    input(type='hidden', name='prop_type', id='chosenType', value="")
                                    script.
                                            $('.selector').click(function(){
                                                $('.selector').css('background', '#ffffff');
                                                $('.selector').css('color', '#000000');
                                                $(this).css('color', '#ffffff');
                                                $(this).css('background', '#606060');
                                                var hahaha=$(this).attr("value");

                                                //alert(hahaha);
                                                document.getElementById("chosenType").value=hahaha;
                                            });
                            p#place
                                a Location
                                br
                                input#location(type="text", name="location")

                            p#priceRange
                                a Price Range(USD)
                                br
                                input#minPrice(type="text", name="min_price",pattern="[0-9]*")
                                |to
                                input#maxPrice(type="text", name="max_price",pattern="[0-9]*")
                            p#bedRooms
                                br
                                a Bedrooms
                                br
                                //input#BedroomsSlider(type="slider", value="2", name="bedroom", style="display:block;")
                                div(style="width: 83%;height: 20px;border: 1px solid #d9d9d9;margin:0 auto;background:#fff;border-radius:3px;")
                                    div.noUiSlider(style="width: 180px;height: 20px; margin: 0 auto")
                                    script(type='text/javascript', charset='utf-8').
                                        var inp1= $('.noUiSlider').parent().find('[name="bedroom"]')
                                        $('.noUiSlider').noUiSlider({
                                        range: [1,5],
                                        start: 1,
                                        handles: 1,
                                        connect: false,
                                        step:1,
                                        serialization: {
                                        to: ["bedroom",inp1],
                                        // round to 0 decimals
                                            resolution: 1
                                        }
                                        });
                            p#bathrooms
                                br
                                a Bathrooms
                                br
                                //input#BathroomsSlider(type="slider", value="2", name="bathroom", style="display:block;")
                                div(style="width: 83%;height: 20px;border: 1px solid #d9d9d9;margin:0 auto;background:#fff;border-radius:3px;")
                                    div.noUiSlider2(style="width: 180px;height: 20px; margin: 0 auto")
                                    script(type='text/javascript', charset='utf-8').
                                               var inp2 = $('.noUiSlider').parent().find('[name="bathroom"]')
                                                $('.noUiSlider2').noUiSlider({
                                                range: [1,5],
                                                start: 1,
                                                handles: 1,
                                                connect: false,
                                                step:1,
                                                serialization: {
                                                to: ["bathroom",inp2],
                                                // round to 0 decimals
                                                    resolution: 1
                                                }
                                                });
                            div#hidingDiv
                                div#more_search
                                    div#more
                                        p More
                                    div#search
                                        input(type='submit', value='Search',id='searchButton')

                                div#bannerAd
                                    p#bannerAdText Banner Ad

                            script.
                                $(document).ready(function(){
                                    $("#more").click(function(){
                                        $("#hidingDiv").hide();
                                        $("#showingDiv").show();
                                    });
                                    $("#less").click(function(){
                                        $("#hidingDiv").show();
                                        $("#showingDiv").hide();
                                    });
                                });
                            div#showingDiv(style="display: none")
                                div#less
                                    p Less
                                p#place
                                    a Country
                                    br
                                    input#location(type="text", name="country")
                                p#place
                                    a Postal Code
                                    br
                                    input#location(type="text", name="zipcode")
                                p#place
                                    a Area Within
                                    br
                                    input#location(type="text", name="areaOfSearch")

                                div#reset
                                    a Reset
                                    div#hide_search
                                        input(type='submit', value='Search',id='searchButton',onsubmit="validateForm()")
                        li.ListOfProperty
                            div.propertiesListScroll
                                a#result
                                    script.
                                        var propertyList = JSON.parse( !{JSON.stringify(products)} );
                                            document.write(propertyList.length+" results");
                                div#sort
                                    label.label
                                    select#mySelect(onchange="priceRange()",style="border: 0 none")
                                        option(value="Priceh") Sort: Price High-Low
                                        option(value="Pricel") Sort: Price Low-High
                                        option(value="Timen") Sort: Time - Newest-Oldest
                                        option(value="Timeo") Sort: Time - Oldest-Newest
                                        option(value="Bedl") Sort: Bedrooms Low-High
                                        option(value="Batl") Sort: Bathrooms Low-High
                                    div#compare
                                        a(href="#") Compare
                                script.
                                    function priceRange(){
                                        var mylist=document.getElementById("mySelect");
                                        var answer = mylist.options[mylist.selectedIndex].value;
                                        if(answer == "Priceh"){
                                            sortDescendingByPrice();
                                        }
                                        else if(answer == "Pricel"){
                                            sortAscendingByPrice();
                                        }
                                        else if(answer == "Bedl"){
                                            sortAscendingBybed();
                                        }
                                        else if(answer == "Batl"){
                                            sortAscendingBybath();
                                        }
                                    }
                                div#scroll
                                    div#list1
                                        script.
                                            var propertyList = JSON.parse( !{JSON.stringify(products)} );
                                            function populate(){
                                            $('#list1').empty();
                                            $("#result").html(propertyList.length+" results");
                                            for(var i=0; i < propertyList.length ; i++){
                                            console.log(propertyList[0].bathrooms);
                                            document.getElementById("list1").innerHTML += "<br/><div class=propertiesList style=background:url("+propertyList[i].picture.linkFront+")no-repeat;background-size:300px 175px>"
                                                                                            +"<div id=propertyNameSearch>"+propertyList[i].productName+"<a style=float:right;margin-top:-2px;margin-right:20px><input type=checkbox name=property value="+i+"></a></div>"
                                                                                            +"<div id=propertyPriceSearch class="+i+">$"+propertyList[i].price+"<br /><a> Bed:"+propertyList[i].bedrooms+" Bath:"+propertyList[i].bathrooms+" Sqft:"+propertyList[i].area+"</a><a style=float:right;margin-top:-2px;margin-right:20px><img src=/images/green_arrow.png></div>"
                                                                                            //+"<div id=arrowKey></div>"
                                                                                            +"</div></a>" }}

                                            function sortAscendingByPrice(){
                                            propertyList.sort(function(a, b){
                                            return a.price - b.price;})
                                            console.log(propertyList);
                                            populate();
                                            }

                                            function sortDescendingByPrice(){
                                                propertyList.sort(function(a, b){
                                                return b.price - a.price;})
                                                console.log(propertyList);
                                                populate();
                                            }

                                            function sortAscendingBybed(){
                                                propertyList.sort(function(a, b){
                                                return a.bedrooms - b.bedrooms;})
                                                console.log(propertyList);
                                                populate();
                                            }

                                            function sortAscendingBybath(){
                                                propertyList.sort(function(a, b){
                                                return a.bathrooms - b.bathrooms;})
                                                populate();
                                            }

                                            for(var i=0; i < propertyList.length ; i++){
                                                console.log(propertyList[i]);
                                                document.write("<br/> <div class=propertiesList style=background:url("+propertyList[i].picture.linkFront+")no-repeat;background-size:300px 175px>"
                                                                                        +"<div id=propertyNameSearch>"+propertyList[i].productName+"<a style=float:right;margin-top:-2px;margin-right:20px><input type=checkbox name=property value="+i+"></a></div>"
                                                                                        +"<div id=propertyPriceSearch class="+i+">$"+propertyList[i].price+"<br /><a> Bed:"+propertyList[i].bedrooms+" Bath:"+propertyList[i].bathrooms+" Sqft:"+propertyList[i].area+"</a><a style=float:right;margin-top:-2px;margin-right:20px><img src=/images/green_arrow.png></div>"
                                                                                        //+"<div id=arrowKey></div>"
                                                                                        +"</div></a>"
                                                                );
                                            };
                                            $(document).ready(function(){
                                                $(function compare() {
                                                    $('#compare').click(function () {
                                                        var checkValues = $('input[name=property]:checked').map(function() {
                                                            console.log($(this).val());
                                                            return propertyList[$(this).val()];
                                                        }).get();
                                                        console.log(checkValues[0]);
                                                        console.log(checkValues[1]);
                                                        console.log(checkValues[2]);
                                                        if(checkValues[3] != null){
                                                            console.log(checkValues[1]);
                                                            $("#MapDiv").hide();
                                                            $("#compare_body").show();
                                                            console.log(checkValues);
                                                            $(".comslider").html('<img src='+checkValues[0]['picture']['linkFront']+' width=247 height=110/>');
                                                            /*$(".comslider").html('<img src='+checkValues[0]['picture']['linkBack']+' width=247 height=110/>');
                                                            $(".comslider").html('<img src='+checkValues[0]['picture']['linkLeft']+' width=247 height=110/>');
                                                            $(".comslider").html('<img src='+checkValues[0]['picture']['linkRight']+' width=247 height=110/>');*/
                                                            $("#comparePrice").html(checkValues[0]['price']);
                                                            $("#CompareBeds").html(checkValues[0]['bedrooms']);
                                                            $("#CompareBaths").html(checkValues[0]['bathrooms']);
                                                            $("#CompareSqft").html(checkValues[0]['area']);
                                                            $("#CompareType").html(checkValues[0]['productType']);
                                                            $(".comslider1").html('<img src='+checkValues[1]['picture']['linkFront']+' width=247 height=110/>');
                                                            /*$(".comslider1").html('<img src='+checkValues[1]['picture']['linkBack']+' width=247 height=110/>');
                                                            $(".comslider1").html('<img src='+checkValues[1]['picture']['linkLeft']+' width=247 height=110/>');
                                                            $(".comslider1").html('<img src='+checkValues[1]['picture']['linkRight']+' width=247 height=110/>');*/
                                                            $("#comparePrice1").html(checkValues[1]['price']);
                                                            $("#CompareBeds1").html(checkValues[1]['bedrooms']);
                                                            $("#CompareBaths1").html(checkValues[1]['bathrooms']);
                                                            $("#CompareSqft1").html(checkValues[1]['area']);
                                                            $("#CompareType1").html(checkValues[1]['productType']);
                                                            $(".comslider2").html('<img src='+checkValues[2]['picture']['linkFront']+' width=247 height=110/>');
                                                            /*$(".comslider2").html('<img src='+checkValues[2]['picture']['linkBack']+' width=247 height=110/>');
                                                            $(".comslider2").html('<img src='+checkValues[2]['picture']['linkLeft']+' width=247 height=110/>');
                                                            $(".comslider2").html('<img src='+checkValues[2]['picture']['linkRight']+' width=247 height=110/>');*/
                                                            $("#comparePrice2").html(checkValues[2]['price']);
                                                            $("#CompareBeds2").html(checkValues[2]['bedrooms']);
                                                            $("#CompareBaths2").html(checkValues[2]['bathrooms']);
                                                            $("#CompareSqft2").html(checkValues[2]['area']);
                                                            $("#CompareType2").html(checkValues[2]['productType']);
                                                            $(".comslider3").html('<img src='+checkValues[3]['picture']['linkFront']+' width=247 height=110/>');
                                                            /*$(".comslider3").html('<img src='+checkValues[3]['picture']['linkBack']+' width=247 height=110/>');
                                                            $(".comslider3").html('<img src='+checkValues[3]['picture']['linkLeft']+' width=247 height=110/>');
                                                            $(".comslider3").html('<img src='+checkValues[3]['picture']['linkRight']+' width=247 height=110/>');*/
                                                            $("#comparePrice3").html(checkValues[3]['price']);
                                                            $("#CompareBeds3").html(checkValues[3]['bedrooms']);
                                                            $("#CompareBaths3").html(checkValues[3]['bathrooms']);
                                                            $("#CompareSqft3").html(checkValues[3]['area']);
                                                            $("#CompareType3").html(checkValues[3]['productType']);
                                                        }else if(checkValues[2] != null){
                                                            $("#MapDiv").hide();
                                                            $("#compare_body").show();
                                                            $("#class1").hide();
                                                            $(".comslider").html('<img src='+checkValues[0]['picture']['linkFront']+' width=247 height=110/>');
                                                            $("#comparePrice").html(checkValues[0]['price']);
                                                            $("#CompareBeds").html(checkValues[0]['bedrooms']);
                                                            $("#CompareBaths").html(checkValues[0]['bathrooms']);
                                                            $("#CompareSqft").html(checkValues[0]['area']);
                                                            $("#CompareType").html(checkValues[0]['productType']);
                                                            $(".comslider1").html('<img src='+checkValues[1]['picture']['linkFront']+' width=247 height=110/>');
                                                            $("#comparePrice1").html(checkValues[1]['price']);
                                                            $("#CompareBeds1").html(checkValues[1]['bedrooms']);
                                                            $("#CompareBaths1").html(checkValues[1]['bathrooms']);
                                                            $("#CompareSqft1").html(checkValues[1]['area']);
                                                            $("#CompareType1").html(checkValues[1]['productType']);
                                                            $(".comslider2").html('<img src='+checkValues[2]['picture']['linkFront']+' width=247 height=110/>');
                                                            $("#comparePrice2").html(checkValues[2]['price']);
                                                            $("#CompareBeds2").html(checkValues[2]['bedrooms']);
                                                            $("#CompareBaths2").html(checkValues[2]['bathrooms']);
                                                            $("#CompareSqft2").html(checkValues[2]['area']);
                                                            $("#CompareType2").html(checkValues[2]['productType']);
                                                        }else if(checkValues[1] != null){
                                                            $("#MapDiv").hide();
                                                            $("#compare_body").show();
                                                            $("#class").hide();
                                                            $("#class1").hide();
                                                            $(".comslider").html('<img src='+checkValues[0]['picture']['linkFront']+' width=247 height=110/>');
                                                            $("#comparePrice").html(checkValues[0]['price']);
                                                            $("#CompareBeds").html(checkValues[0]['bedrooms']);
                                                            $("#CompareBaths").html(checkValues[0]['bathrooms']);
                                                            $("#CompareSqft").html(checkValues[0]['area']);
                                                            $("#CompareType").html(checkValues[0]['productType']);
                                                            $(".comslider1").html('<img src='+checkValues[1]['picture']['linkFront']+' width=247 height=110/>');
                                                            $("#comparePrice1").html(checkValues[1]['price']);
                                                            $("#CompareBeds1").html(checkValues[1]['bedrooms']);
                                                            $("#CompareBaths1").html(checkValues[1]['bathrooms']);
                                                            $("#CompareSqft1").html(checkValues[1]['area']);
                                                            $("#CompareType1").html(checkValues[1]['productType']);
                                                        }else{
                                                            alert("Select atleast Two properties");
                                                        }
                                                    });
                                                });
                                            });
                        li.hidelist(style="width: 55%;box-shadow: none")
                            aside#mainAside
                                if routePath === "search"
                                    div#MapDiv2
                                        script.
                                            var map;
                                            var propertyList = JSON.parse( !{JSON.stringify(products)} );
                                            console.log(propertyList);
                                            function initialize() {
                                            // Initial Map Options.
                                            var mapOptions = {
                                                zoom:14,
                                                mapTypeId: google.maps.MapTypeId.ROADMAP
                                            };

                                            // Loading Map

                                            map = new google.maps.Map(document.getElementById('MapDiv2'), mapOptions);

                                            // Loading location as per Geolocation
                                            if (navigator.geolocation) {
                                            navigator.geolocation.getCurrentPosition(function (position) {
                                                console.log(propertyList[0].LatLng.latitude+"::"+propertyList[0].LatLng.longitude)
                                                console.log
                                                var pos = new google.maps.LatLng(propertyList[0].LatLng.latitude, propertyList[0].LatLng.longitude);
                                            console.log("----loading---");
                                            // Function for Clustering
                                            // Loading properties in Map using marker array from DB
                                                var markers = [];
                                                var infoWindows = [];
                                                for (var i = 0; i < propertyList.length; i++) {
                                                    var latLng = new google.maps.LatLng(propertyList[i].LatLng.latitude, propertyList[i].LatLng.longitude);
                                                    var marker = new google.maps.Marker({
                                                        position: latLng,
                                                        infoWindowIndex : i,
                                                        icon:'/images/marker.png',
                                                        map: map
                                                    });
                                                    var content = '<div class=propertiesListMap style=background:url('+propertyList[i].picture.linkFront+')no-repeat;background-size:300px 175px>'
                                                        +'<div id=propertyNameMap>'+propertyList[i].productName+'</div>'
                                                        +'<div id=propertyPriceMap class='+i+'>$'+propertyList[i].price+'<br /><a> Bed:'+propertyList[i].bedrooms+' Bath:'+propertyList[i].bathrooms+' Sqft:'+propertyList[i].area+'</a><a style=float:right;margin-top:-9px;margin-right:20px><img src=/images/green_arrow.png></div>'
                                                        +'<div id=arrowKeyMap></div>'
                                                        +'</div></a><br/>';
                                                    $("#propertyPriceMap").live('click',function() {
                                                        var i = $(this).attr('class');
                                                        console.log(i);
                                                        $('#mapidHide').show();
                                                        $('#mapidHide').animate({right: "0",top:"30px"}, 1500);
                                                        $("#price p").html("Price: $"+propertyList[i].price);
                                                        $("#beds").html("Beds: "+propertyList[i].bedrooms);
                                                        $("#baths").html("Baths: "+propertyList[i].bathrooms);
                                                        $("#area").html("Sqft: "+propertyList[i].area);
                                                        $("#type").html("Type: "+propertyList[i].productType);
                                                        $('.slidermap').empty();
                                                        $('.slidermap').append(
                                                        "<div class=\"bxslidermap\"> <img src="+propertyList[i].picture.linkFront+" width=102.5% height=270/>"
                                                        +"<img src="+propertyList[i].picture.linkBack+" width=102.5% height=270/>"
                                                        +"<img src="+propertyList[i].picture.linkLeft+" width=102.5% height=270/>"
                                                        +"<img src="+propertyList[i].picture.linkRight+" width=102.5% height=270/> </div>"
                                                        );
                                                        $('.bxslidermap').bxSlider({
                                                        mode: 'horizontal',
                                                        auto: true,
                                                        pause: 2000,
                                                        speed:1000,
                                                        infiniteLoop:true,
                                                        buildPager: function(slideIndex){
                                                            switch(slideIndex){
                                                                case 0:
                                                                    return '<img src='+propertyList[i].picture.linkFront+' width=100 height=50>';
                                                                case 1:
                                                                    return '<img src='+propertyList[i].picture.linkBack+' width=100 height=50>';
                                                                case 2:
                                                                    return '<img src='+propertyList[i].picture.linkLeft+' width=100 height=50>';
                                                                case 3:
                                                                    return '<img src='+propertyList[i].picture.linkRight+' width=100 height=50>';
                                                            }
                                                            }
                                                        });

                                                        return false;
                                                    });

                                                    $(document).ready(function(){
                                                        $('.bxslidermap').bxSlider({
                                                        mode: 'horizontal',
                                                        auto: true,
                                                        pause: 2000,
                                                        speed:1000,
                                                        infiniteLoop:true,
                                                        buildPager: function(slideIndex){
                                                            switch(slideIndex){
                                                                case 0:
                                                                    return '<img src='+propertyList[0].picture.linkFront+' width=100 height=50>';
                                                                case 1:
                                                                    return '<img src='+propertyList[0].picture.linkBack+' width=100 height=50>';
                                                                case 2:
                                                                    return '<img src='+propertyList[0].picture.linkLeft+' width=100 height=50>';
                                                                case 3:
                                                                    return '<img src='+propertyList[0].picture.linkRight+' width=100 height=50>';
                                                            }
                                                            }
                                                        });
                                                    });
                                                    $("#moreMap").live('click',function(){
                                                        $("#mapidHide").hide().animate({right:"-632px"},1);
                                                        //$("#mapidHide").hide();
                                                    });
                                                    var infoWindow = new google.maps.InfoWindow({
                                                        content : content
                                                    });
                                                    google.maps.event.addListener(marker, 'click',
                                                        function(event)
                                                        {
                                                            this.setIcon('/images/marker_hover.png');
                                                            infoWindows[this.infoWindowIndex].open(map, this);
                                                        }
                                                    );

                                                    /*google.maps.event.addListener(marker, 'mouseout',
                                                        function(event)
                                                        {
                                                            marker.setIcon('/images/marker.png');
                                                            infoWindows[this.infoWindowIndex].close();
                                                        }
                                                    );*/
                                                    infoWindows.push(infoWindow);
                                                    markers.push(marker);
                                                }
                                                var markerCluster = new MarkerClusterer(map, markers, mapOptions);
                                            // End of Clustering

                                            // Setting up the Map position.
                                                map.setCenter(pos);

                                            // Function for Places.
                                            // Not sure about Markers array please go through it when time permits
                                            // End of the Places Library

                                            // Reverse Geocoder function to get location city and state in Readable format
                                            // Also populate in area search box

                                                geocoder = new google.maps.Geocoder();
                                            var location = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
                                            geocoder.geocode({'location': location }, function (results, status) {

                                            if (status == google.maps.GeocoderStatus.OK) {
                                            //Check result 0
                                            var result = results[0];
                                            //look for locality tag and administrative_area_level_1
                                            var city = "";
                                            var state = "";
                                            var postalCode= "";
                                            for (var i = 0, len = result.address_components.length; i < len; i++) {

                                            var ac = result.address_components[i];
                                            if (ac.types.indexOf("locality") >= 0) city = ac.long_name;
                                            if (ac.types.indexOf("administrative_area_level_1") >= 0) state = ac.short_name;
                                            if (ac.types.indexOf("postal_code") >= 0) postalCode = ac.long_name;

                                            }
                                            //only report if we got Good Stuff
                                            if (city != '' && state != '') {
                                            document.getElementById("serachFunctionComboBox").value = city + ',' + state;
                                            document.getElementById("serachFunctionInputText").value = postalCode;
                                                } else {
                                                    console.log('Geocoder failed' + status)
                                                    }
                                                    }
                                                    });
                                            }, function () {
                                                handleNoGeolocation(true);
                                            });
                                            }
                                            else {
                                            handleNoGeolocation(false);
                                            }
                                            }

                                            // Test for Geolocation.

                                            function handleNoGeolocation(errorFlag) {
                                            if (errorFlag) {
                                                var content = 'Error: The Geolocation service failed.';
                                            } else {
                                                var content = 'Error: Your browser doesn\'t support geolocation.';
                                            }
                                            var options = {
                                                map: map,
                                                position: new google.maps.LatLng(60, 105),
                                                content: content
                                            };
                                            var infowindow = new google.maps.InfoWindow(options);
                                            map.setCenter(options.position);
                                            }

                                            // Loading main Javascript for Map


                                            function loadScript() {
                                                var script = document.createElement('script');
                                                script.type = 'text/javascript';
                                                script.src = 'https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&' +
                                                    'callback=initialize&libraries=geometry&libraries=places';
                                                document.body.appendChild(script);
                                            }

                                            window.onload = loadScript;
            div#mapidHide(style="display:none")
                div#moreMap
                    p Close Pane X
                div#propertyZoomedDetails
                    br
                    script.
                        document.write("<div class=\"slidermap\"> <div class=\"bxslidermap\">"
                                        +"<img src="+propertyList[0].picture.linkFront+" width=700 height=270/>"
                                        +"<img src="+propertyList[0].picture.linkBack+" width=700 height=270/>"
                                        +"<img src="+propertyList[0].picture.linkLeft+" width=700 height=270/>"
                                        +"<img src="+propertyList[0].picture.linkRight+" width=700 height=270/>"
                                        +"</div></div>");
                    div#description
                        div#tabs
                            ul
                                li
                                    img(src="/images/maps_button.png")
                                li
                                    img(src="/images/messgae.png")
                                li
                                    img(src="/images/save_button.png")
                                li
                                    img(src="/images/some_button.png")
                                li
                                    img(src="/images/print.png")
                        div#price
                            p Price:
                                script.
                                    document.write(" $"+propertyList[0].price)
                        div#property
                            div#property_details
                                h4 Property Details
                            div#property_types
                                ul
                                    li#beds Beds:
                                        script.
                                            document.write(" "+propertyList[0].bedrooms)
                                    li#area Sqft:
                                        script.
                                            document.write(" "+propertyList[0].area)
                                    li Built: 2005
                                    li#baths Bath:
                                        script.
                                            document.write(" "+propertyList[0].bathrooms)
                                    li#type Type:
                                        script.
                                            document.write(" "+propertyList[0].productType)
                                    li MLS ID
                        div#description_prop
                            h4 Descriptions
                            p Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit.